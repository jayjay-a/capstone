

<h1>Employees</h1>

<%= link_to raw("<i class=\"material-icons right\">add_circle</i>New Employee"), new_employee_path, class: "btn waves-effect waves-light right" %> 
<table class="responsive-table highlight">
  <thead>
    <tr>
      <th><%= sort_link(@search, :first_name, "First Name") %></th>
      <th><%= sort_link(@search, :last_name, "Last Name") %></th>
      <th><%= sort_link(@search, :employee_employee_type_description, "Type") %></th>
      <th><%= sort_link(@search, :join_date) %></th>
      <th><%= sort_link(@search, :dismiss_date) %></th>
      <th><%= sort_link(@search, :employee_employee_status_description, "Status") %></th>

    </tr>
  </thead>

  <tbody>
    <% @employees.each do |employee| %>
      <tr data-link=" <%= employee_path(employee) %>" >
        <td><%= employee.first_name %></td>
        <td><%= employee.last_name %></td>
        <td><%= employee.employee_type.employee_type_description %></td>
        <td><%= employee.join_date.strftime("%m/%d/%Y") %></td>
        <td><%= employee.try(:dismiss_date).try(:strftime, ("%m/%d/%Y")) %></td>
        <td><%= employee.employee_status.employee_status_description %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<center><%= paginate @employees %></center>

<style>
  tr{
    cursor: pointer;
    }
</style>
<script>
    $("tr[data-link]").click(function() {
      window.location = $(this).data("link")
    })
</script>